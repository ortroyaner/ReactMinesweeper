(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,function(e,a,t){e.exports=t(16)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),s=t.n(r),c=t(1),o=Object(n.createContext)(),i=function(){var e=Object(n.useContext)(o),a=Object(n.useState)(e.totalRows),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)(e.totalCols),m=Object(c.a)(i,2),u=m[0],f=m[1],b=Object(n.useState)(e.totalMines),g=Object(c.a)(b,2),d=g[0],p=g[1];return l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),""===r||(e.setTotalRows(parseInt(r)),e.setTotalCols(parseInt(u)),e.setTotalMines(parseInt(d)))},className:"form-inline mt-2 mt-md-0"},l.a.createElement("div",{className:"form-row col-sm-10 ml-auto"},l.a.createElement("div",{className:"form-group col-sm-3"},l.a.createElement("label",{htmlFor:"totalRowsInput",className:"text-light mr-2"},"Rows:"),l.a.createElement("input",{id:"totalRowsInput",className:"form-control mr-sm-2 col-sm-5",type:"number",value:r,onChange:function(e){return s(e.target.value)}})),l.a.createElement("div",{className:"form-group col-sm-3"},l.a.createElement("label",{htmlFor:"totalColsInput",className:"text-light mr-2"},"Columns:"),l.a.createElement("input",{id:"totalColsInput",className:"form-control mr-sm-2 col-sm-5",type:"number",value:u,onChange:function(e){return f(e.target.value)}})),l.a.createElement("div",{className:"form-group col-sm-3"},l.a.createElement("label",{htmlFor:"totalMinesInput",className:"text-light mr-2"},"Mines:"),l.a.createElement("input",{id:"totalMinesInput",className:"form-control mr-sm-2 col-sm-5",type:"number",value:d,onChange:function(e){return p(e.target.value)}})),l.a.createElement("button",{className:"btn btn-success my-2 my-sm-0 mr-3",type:"submit"},"New Game")))},m=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"#"},l.a.createElement("i",{className:"fa fa-bomb"})," ReactJS Minesweeper"),l.a.createElement("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"navbar-collapse collapse",id:"navbarCollapse"},l.a.createElement(i,null),l.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},l.a.createElement("i",{className:"fa fa-eye"})," Reveal All Cells")))},u=t(2),f=t(5),b=(t(13),function(e){var a=e.cellRow,t=e.cellCol,r=e.isMine,s=e.mineNeighbours,c=e.isRevealed,o=e.isFlagged,i=e.isLostTrigger,m=e.clickHandler;return l.a.createElement("div",{className:"game-cell",style:{width:30,height:30,background:i?"#cc2f2f":r?"#fff":null}},r?l.a.createElement("i",{className:"fa fa-bomb fa-md",style:{color:"#000"}}):o?l.a.createElement("i",{className:"fa fa-times",style:{color:"#ffb000"}}):s>0?l.a.createElement(n.Fragment,null,s):null,l.a.createElement("button",{className:"btn btn-primary game-btn",onClick:function(e){return m(e,a,t)},style:{opacity:c?0:1,cursor:c?"auto":"pointer"}},o?l.a.createElement("i",{className:"fa fa-flag"}):null))}),g=(t(14),function(e){var a=e.remainingFlags;return l.a.createElement(n.Fragment,null,l.a.createElement("span",{className:"mr-1"},a),l.a.createElement("i",{className:"fa fa-flag mb-3"}))}),d=function(e){var a=e.alert;return null!==a&&l.a.createElement("div",{className:"bs-component"},l.a.createElement("div",{className:"alert alert-".concat(a.type)},l.a.createElement("strong",null,a.header)," ",a.msg))},p=function(){var e=Object(n.useContext)(o),a=e.totalRows,t=e.totalCols,r=e.totalMines,s=Object(n.useState)([]),i=Object(c.a)(s,2),m=i[0],p=i[1],v=Object(n.useState)(!1),E=Object(c.a)(v,2),N=E[0],O=E[1],y=Object(n.useState)(r),h=Object(c.a)(y,2),j=h[0],M=h[1],T=Object(n.useState)(0),C=Object(c.a)(T,2),w=C[0],R=C[1],S=function(){p(function(e,a,t){var n=[];console.log("createBoard (utils)! Building new board: ".concat(e,"X").concat(a," with ").concat(t," mines."));for(var l=0;l<e;l++){n.push([]);for(var r=0;r<a;r++)n[l].push({cellRow:l,cellCol:r,isRevealed:!1,isMine:!1,isFlagged:!1,isLostTrigger:!1,mineNeighbours:0})}for(var s=0,c=function(){var t=Math.floor(Math.random()*e),l=Math.floor(Math.random()*a),r=n[t][l];r.isMine||(n[t][l]=Object(u.a)({},r,{isMine:!0}),s++);var c=function(t,l){if(n[t][l].isMine)return-1;for(var r=0,s=-1;s<=1;s++){var c=t+s;if(!(c<0||c>=e))for(var o=-1;o<=1;o++){var i=l+o;i<0||i>=a||n[c][i].isMine&&r++}}return r};n.map((function(e,a){return e.map((function(e,t){return n[a][t]=Object(u.a)({},n[a][t],{mineNeighbours:c(a,t)})}))}))};s<t;)c();return n}(a,t,r)),M(r),O(!1),B(null)};Object(n.useEffect)((function(){return S()}),[a,t,r]);var F=function(e,a,t){if(!N)if(e.shiftKey)I(a,t);else{var n=m[a][t];if(n.isMine)return J("Oy Vey!",l.a.createElement("span",null,"It's a mine",l.a.createElement("i",{className:"fa fa-bomb ml-1"})),"danger"),n.isLostTrigger=!0,p(Object(f.a)(m).map((function(e){return e.map((function(e){return e.isMine&&e.isFlagged?e:e.isMine||e.isFlagged&&!e.isMine?Object(u.a)({},e,{isRevealed:!0}):e}))}))),void O(!0);n.isFlagged||L(a,t)}};Object(n.useEffect)((function(){w===r&&(J("Well Done!",l.a.createElement("span",null,"You did it!",l.a.createElement("i",{className:"fa fa-trophy ml-1"})),"success"),O(!0))}),[w]);var I=function(e,a){var t=Object(f.a)(m),n=t[e][a];if(n.isFlagged)M(j+1),n.isMine&&R(w-1);else{if(!(j>0))return void J("Out Of Flags!",l.a.createElement("span",null,"Try to remove a flag before adding a new one",l.a.createElement("i",{className:"fa fa-flag ml-1"})),"secondary",5e3);M(j-1),n.isMine&&R(w+1)}t[e][a].isFlagged=!t[e][a].isFlagged,p(t)},L=function(e,a){var t=Object(f.a)(m),n=t[e][a];n.isRevealed=!0,0===n.mineNeighbours&&(t=_(t,n)),p(t)},_=function(e,n){for(var l=n.cellRow,r=n.cellCol,s=-1;s<=1;s++){var c=l+s;if(!(c<0||c>=a))for(var o=-1;o<=1;o++){var i=r+o;if(!(i<0||i>=t)){var m=e[c][i];m.isRevealed||m.isMine||m.isFlagged||L(m.cellRow,m.cellCol)}}}return e},x=Object(n.useState)(null),k=Object(c.a)(x,2),A=k[0],B=k[1],J=function(e,a,t,n){B({header:e,msg:a,type:t}),n>0&&setTimeout((function(){return B(null)}),n)};return l.a.createElement(n.Fragment,null,l.a.createElement(d,{alert:A}),l.a.createElement("div",{className:"container"},l.a.createElement(g,{remainingFlags:j})),l.a.createElement("div",{className:"game-board",style:{gridTemplateColumns:"repeat(".concat(t,", ").concat(30,"px)")}},m.map((function(e,a){return e.map((function(e,t){return l.a.createElement("div",{key:"".concat(a,",").concat(t)},l.a.createElement(b,{cellRow:a,cellCol:t,isMine:e.isMine,mineNeighbours:e.mineNeighbours,isRevealed:e.isRevealed,isFlagged:e.isFlagged,isLostTrigger:e.isLostTrigger,clickHandler:F}))}))}))))},v=function(e,a){switch(a.type){case"SET_TOTAL_ROWS":return Object(u.a)({},e,{totalRows:a.payload});case"SET_TOTAL_COLS":return Object(u.a)({},e,{totalCols:a.payload});case"SET_TOTAL_MINES":return Object(u.a)({},e,{totalMines:a.payload})}},E=function(e){var a={totalRows:10,totalCols:10,totalMines:10},t=Object(n.useReducer)(v,a),r=Object(c.a)(t,2),s=r[0],i=r[1];return l.a.createElement(o.Provider,{value:{totalRows:s.totalRows,totalCols:s.totalCols,totalMines:s.totalMines,setTotalRows:function(e){return i({type:"SET_TOTAL_ROWS",payload:e})},setTotalCols:function(e){return i({type:"SET_TOTAL_COLS",payload:e})},setTotalMines:function(e){return i({type:"SET_TOTAL_MINES",payload:e})}}},e.children)},N=(t(15),function(){return l.a.createElement(E,null,l.a.createElement("div",{className:"minesweeperApp"},l.a.createElement(m,null),l.a.createElement("div",{className:"container jumbotron text-center mt-5"},l.a.createElement("div",{className:"container game-board-container"},l.a.createElement(p,null)))))});s.a.render(l.a.createElement(N,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.11b6ae60.chunk.js.map